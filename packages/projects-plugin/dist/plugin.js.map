{
  "version": 3,
  "sources": ["../src/index.tsx"],
  "sourcesContent": ["// src/index.tsx\n/// <reference types=\"react\" />\ndeclare const React: any;\n\nimport { Project } from './types';\n\nconst ProjectsPlugin = ({ context }: { context: any }) => {\n  const { useState, useEffect } = React;\n  const { theme, apiClient, metadata, utils } = context;\n  \n  const themeMode = theme?.mode || 'light';\n  const isDark = themeMode === 'dark';\n\n  // State\n  const [projects, setProjects] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [viewMode, setViewMode] = useState('grid');\n\n  // Fetch projects from portal backend\n  const fetchProjects = async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      console.log('[Projects Plugin] Fetching projects from backend...');\n      \n      // This will call portal backend: /api/v1/projects\n      // Or if backend proxy is set: http://localhost:4000/api/v1/projects\n      const response = await apiClient.get('/api/v1/projects');\n      \n      console.log('[Projects Plugin] Received projects:', response);\n      setProjects(response);\n      utils.toast(`Loaded ${response.length} projects`, 'success');\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to load projects';\n      setError(errorMessage);\n      utils.toast(errorMessage, 'error');\n      console.error('[Projects Plugin] Error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Load projects on mount\n  useEffect(() => {\n    fetchProjects();\n  }, []);\n\n  // Filter projects based on search\n  const filteredProjects = projects.filter(project => \n    project.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    project.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    project.description.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  // Parse views string to array\n  const parseViews = (views: string): string[] => {\n    return views.split(',').map(v => v.trim());\n  };\n\n  return (\n    <div className={`min-h-screen p-6 ${isDark ? 'bg-gray-900 text-white' : 'bg-gray-50 text-gray-900'}`}>\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-4xl font-bold mb-2\">\uD83D\uDCC1 {metadata.title || metadata.name}</h1>\n          <p className=\"text-lg opacity-75\">Browse and explore available projects</p>\n          <p className=\"text-sm opacity-50 mt-1\">\n            Version {metadata.version} \u2022 Current theme: {themeMode}\n          </p>\n        </div>\n\n        {/* Controls */}\n        <div className={`p-6 rounded-lg shadow-lg mb-6 ${isDark ? 'bg-gray-800' : 'bg-white'}`}>\n          <div className=\"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between\">\n            {/* Search */}\n            <div className=\"flex-1 w-full sm:max-w-md\">\n              <input\n                type=\"text\"\n                placeholder=\"Search projects...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className={`w-full px-4 py-2 rounded border ${\n                  isDark \n                    ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                    : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'\n                } focus:outline-none focus:ring-2 focus:ring-blue-500`}\n              />\n            </div>\n\n            {/* View Mode Toggle */}\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setViewMode('grid')}\n                className={`px-4 py-2 rounded transition-colors ${\n                  viewMode === 'grid'\n                    ? 'bg-blue-600 text-white'\n                    : isDark\n                    ? 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                }`}\n              >\n                Grid\n              </button>\n              <button\n                onClick={() => setViewMode('list')}\n                className={`px-4 py-2 rounded transition-colors ${\n                  viewMode === 'list'\n                    ? 'bg-blue-600 text-white'\n                    : isDark\n                    ? 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                }`}\n              >\n                List\n              </button>\n              <button\n                onClick={fetchProjects}\n                disabled={loading}\n                className={`px-4 py-2 rounded transition-colors ${\n                  loading\n                    ? 'bg-gray-400 cursor-not-allowed'\n                    : 'bg-green-600 hover:bg-green-700 text-white'\n                }`}\n              >\n                {loading ? 'Loading...' : 'Refresh'}\n              </button>\n            </div>\n          </div>\n\n          {/* Stats */}\n          <div className=\"mt-4 flex gap-4 text-sm\">\n            <span className=\"opacity-75\">\n              Total: <strong>{projects.length}</strong> projects\n            </span>\n            {searchTerm && (\n              <span className=\"opacity-75\">\n                Filtered: <strong>{filteredProjects.length}</strong> projects\n              </span>\n            )}\n          </div>\n        </div>\n\n        {/* Loading State */}\n        {loading && (\n          <div className=\"flex items-center justify-center h-64\">\n            <div className=\"text-center\">\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n              <p>Loading projects...</p>\n            </div>\n          </div>\n        )}\n\n        {/* Error State */}\n        {error && !loading && (\n          <div className=\"p-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\">\n            <div className=\"flex items-start gap-3\">\n              <span className=\"text-2xl\">\u26A0\uFE0F</span>\n              <div>\n                <h3 className=\"text-red-800 dark:text-red-200 font-semibold mb-1\">\n                  Failed to Load Projects\n                </h3>\n                <p className=\"text-red-700 dark:text-red-300 text-sm\">{error}</p>\n                <button\n                  onClick={fetchProjects}\n                  className=\"mt-3 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm\"\n                >\n                  Retry\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Empty State */}\n        {!loading && !error && filteredProjects.length === 0 && (\n          <div className={`p-12 rounded-lg shadow-lg text-center ${isDark ? 'bg-gray-800' : 'bg-white'}`}>\n            <div className=\"text-6xl mb-4\">\uD83D\uDCC2</div>\n            <h3 className=\"text-2xl font-semibold mb-2\">No Projects Found</h3>\n            <p className=\"opacity-75\">\n              {searchTerm ? `No projects match \"${searchTerm}\"` : 'No projects available'}\n            </p>\n          </div>\n        )}\n\n        {/* Grid View */}\n        {!loading && !error && viewMode === 'grid' && filteredProjects.length > 0 && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {filteredProjects.map((project) => (\n              <div\n                key={project.id}\n                className={`p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow ${\n                  isDark ? 'bg-gray-800' : 'bg-white'\n                }`}\n              >\n                {/* Project Header */}\n                <div className=\"mb-4\">\n                  <div className=\"flex items-start justify-between mb-2\">\n                    <h3 className=\"text-xl font-bold\">{project.title}</h3>\n                    {project['components-metrics'] && (\n                      <span className=\"px-2 py-1 text-xs rounded bg-green-500 text-white\">\n                        Metrics\n                      </span>\n                    )}\n                  </div>\n                  <p className=\"text-sm opacity-75 font-mono\">{project.name}</p>\n                </div>\n\n                {/* Description */}\n                <p className=\"text-sm opacity-90 mb-4 line-clamp-3\">\n                  {project.description}\n                </p>\n\n                {/* Metadata */}\n                <div className=\"space-y-2 text-xs\">\n                  {/* Views */}\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"opacity-75\">Views:</span>\n                    <div className=\"flex gap-1 flex-wrap\">\n                      {parseViews(project.views).map((view) => (\n                        <span\n                          key={view}\n                          className={`px-2 py-1 rounded ${\n                            isDark ? 'bg-gray-700' : 'bg-gray-100'\n                          }`}\n                        >\n                          {view}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Alerts Link */}\n                  {project.alerts && (\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"opacity-75\">Alerts:</span>\n                      <a\n                        href={project.alerts}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"text-blue-500 hover:text-blue-600 hover:underline truncate\"\n                        onClick={(e) => {\n                          e.preventDefault();\n                          utils.openExternal(project.alerts!);\n                        }}\n                      >\n                        View Alerts Config\n                      </a>\n                    </div>\n                  )}\n\n                  {/* ID */}\n                  <div className=\"flex items-center gap-2 pt-2 border-t border-gray-200 dark:border-gray-700\">\n                    <span className=\"opacity-75\">ID:</span>\n                    <code className=\"text-xs opacity-60 truncate\">{project.id}</code>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* List View */}\n        {!loading && !error && viewMode === 'list' && filteredProjects.length > 0 && (\n          <div className={`rounded-lg shadow-lg overflow-hidden ${isDark ? 'bg-gray-800' : 'bg-white'}`}>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className={`${isDark ? 'bg-gray-700' : 'bg-gray-50'}`}>\n                  <tr>\n                    <th className=\"text-left py-3 px-4 font-semibold\">Title</th>\n                    <th className=\"text-left py-3 px-4 font-semibold\">Name</th>\n                    <th className=\"text-left py-3 px-4 font-semibold\">Description</th>\n                    <th className=\"text-left py-3 px-4 font-semibold\">Views</th>\n                    <th className=\"text-center py-3 px-4 font-semibold\">Metrics</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredProjects.map((project, index) => (\n                    <tr\n                      key={project.id}\n                      className={`border-t ${\n                        isDark ? 'border-gray-700' : 'border-gray-200'\n                      } hover:bg-opacity-50 ${\n                        isDark ? 'hover:bg-gray-700' : 'hover:bg-gray-50'\n                      }`}\n                    >\n                      <td className=\"py-3 px-4 font-semibold\">{project.title}</td>\n                      <td className=\"py-3 px-4\">\n                        <code className=\"text-sm\">{project.name}</code>\n                      </td>\n                      <td className=\"py-3 px-4 text-sm max-w-md truncate\">\n                        {project.description}\n                      </td>\n                      <td className=\"py-3 px-4\">\n                        <div className=\"flex gap-1 flex-wrap\">\n                          {parseViews(project.views).map((view) => (\n                            <span\n                              key={view}\n                              className={`px-2 py-1 text-xs rounded ${\n                                isDark ? 'bg-gray-700' : 'bg-gray-100'\n                              }`}\n                            >\n                              {view}\n                            </span>\n                          ))}\n                        </div>\n                      </td>\n                      <td className=\"py-3 px-4 text-center\">\n                        {project['components-metrics'] ? (\n                          <span className=\"text-green-500\">\u2713</span>\n                        ) : (\n                          <span className=\"opacity-30\">\u2014</span>\n                        )}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// Export in the expected format\nexport default {\n  component: ProjectsPlugin,\n  metadata: {\n    name: 'projects-plugin',\n    version: '1.0.0',\n    author: 'Oleg',\n  },\n  hooks: {\n    onMount() {\n      console.log('[Projects Plugin] mounted');\n    },\n    onUnmount() {\n      console.log('[Projects Plugin] unmounted');\n    },\n  },\n};"],
  "mappings": "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",
  "names": ["ProjectsPlugin", "context", "useState", "useEffect", "theme", "apiClient", "metadata", "utils", "themeMode", "isDark", "projects", "setProjects", "loading", "setLoading", "error", "setError", "searchTerm", "setSearchTerm", "viewMode", "setViewMode", "fetchProjects", "response", "err", "errorMessage", "filteredProjects", "project", "parseViews", "views", "v", "view", "e", "index", "src_default"]
}
